{% extends 'registration/base.html' %}
{% load bootstrap4 %}
{{form.media}}
{% block content %}
{{block.super}}


<div class="container">
 <div class="row">
  <div class="col-md-3"></div>
  <div class="col-md-6">
   <div class="profile-pic">
    <h3><b>Username: <i>{{user.username}}</i></b></h3>
   </div>


   
   <div class="bio">

    <h3><b>Bio</b></h3>
    Email: <br>
    {{user.email}}

   </div>
   <div class="prof">

    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal">Update
     Profile</button>
   </div>

   <div class="col-md-3"></div>
  </div>



 </div>

 <!-- The Modal -->
 <div class="modal" id="myModal">
  <div class="modal-dialog">
   <div class="modal-content">

    <!-- Modal Header -->
    <div class="modal-header">
     <h4 class="modal-title">Update Profile</h4>
     <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
    </div>

    <!-- Modal body -->
    <div class="modal-body">
     <div class="update frm">
      {% if form.errors %}
      <p> Password or Username is incorrect </p>
      {% endif %}
      <div class="panel panel-default">
       <div class="panel-body">
        <div class="brand">Insta Clone</h3>
        </div>



        <form action="{%url 'profile'%}" method="post">
         {% csrf_token %}
         {% bootstrap_form form%}

         <div class="login-form">
          <div class="form-group">
           <input type="submit" class="login btn btn-primary btn-sm" value="Update">

          </div>

          <input type="hidden" name="next" value="{{next}}">


        </form>
       </div>



      </div>

     </div>
    </div>

    <!-- Modal footer -->
    <div class="modal-footer">
     <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
    </div>

   </div>
  </div>
 </div>



 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
 <style>
  .container {
   margin-top: 5%;
   background-color: rgb(250, 250, 250);
  }

  .prof {
   display: flex;
  }

  .update {
   margin: 2%;
   border: 1px solid rgb(219, 219, 219);
  }
 </style>

 {% endblock %}